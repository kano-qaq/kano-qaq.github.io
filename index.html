<!DOCTYPE html>
<html lang="cn">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Record my life">
<meta property="og:type" content="website">
<meta property="og:title" content="kkano">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="kkano">
<meta property="og:description" content="Record my life">
<meta property="og:locale">
<meta property="article:author" content="kkano">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'cn'
  };
</script>

  <title>kkano</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">kkano</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="cn">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/01/09/KERNEL-32-03/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kkano">
      <meta itemprop="description" content="Record my life">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kkano">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/01/09/KERNEL-32-03/" class="post-title-link" itemprop="url">KERNEL-32-03</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2024-01-09 13:29:39 / Modified: 13:30:45" itemprop="dateCreated datePublished" datetime="2024-01-09T13:29:39+08:00">2024-01-09</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>内核API<br>内存检测:<br>1.MmIsAddressValid()检测内核地址是否有效<br>2.ProbeForRead()&#x2F;ProbeForWrite()检测用户模式缓冲区是否可读&#x2F;可写，此函数没有返回值，通过异常处理基址判断</p>
<p>文件的表示:<br>应用层表示:c:\1.txt<br>内核表示:\??\C:\1.txt</p>
<p>注册表表示:<br>应用层表示:HKEY_CLASSES_ROOT，HKEY_CURRENT_USER，HKEY_LOCAL_MACHINE，HKEY_USERS，HKEY_CURRENT_CONFIG<br>内核表示:<br>内核中所有注册表项的根目录都是\Registry，HKEY_LOCAL_MACHINE对应\Registry\Machine<br>在内核中只有HKEY_USERS和HKEY_LOCAL_MACHINE的句柄</p>
<p>中断请求级别:<br>1.高中断级别可以中断低中断级别，同中断级别不能打断<br>2.通常中断级别:PASSIVE_LEVEL(0)，APC_LEVEL(1)，DISPATCH_LEVEL(2)<br>3.内核API对于中断级有要求</p>
<p>Ring3和Ring0通信<br>1.通过事件对象实现通信<br>ring0:IoCreateNotificationEvent(L“\BaseNamedObjects\xxx(MyName)”)<br>ring3:OpenEvent(L“\Global\xxx(MyName)”)</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="cn">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/01/07/KERNEL-32-02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kkano">
      <meta itemprop="description" content="Record my life">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kkano">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/01/07/KERNEL-32-02/" class="post-title-link" itemprop="url">KERNEL-32-02</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2024-01-07 20:47:40 / Modified: 20:55:32" itemprop="dateCreated datePublished" datetime="2024-01-07T20:47:40+08:00">2024-01-07</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>windows分层设计:<br>1.一个设备可以有多个驱动<br>2.上层驱动会附加到下层驱动<br>3.处理消息时，从上层驱动开始处理，若上层驱动直接返回则下层驱动不处理</p>
<p>派遣函数<br>1.通过Irp堆栈获取参数，获取Irp:pIrpStack&#x3D;IoGetCurrentIrpStackLoaction(Irp)<br>2.需要调用IoCompleteRequest函数来完成请求</p>
<p>数据通信方式<br>1.缓冲区通讯方式(由系统申请一块内存来操作数据)<br>2.直接通讯方式(直接操作物理内存)<br>3.其他方式<br>4.设置数据通信方式:  </p>
<ul>
<li>DriverEntry中的DriverObject-&gt;Flags与上通讯方式的宏  </li>
<li>控制码的定义中声明相应的通讯方式宏</li>
</ul>
<p>控制派遣函数:<br>1.缓冲区通讯方式时，输入和输出缓冲区地址相同&#x3D;Irp-&gt;AssociatedIrp.SystemBuffer<br>2.其他方式时:  </p>
<ul>
<li>输入缓冲区&#x3D;pIrpStack-&gt;Parameters.DeviceIoControl.Type3InputBuffer  </li>
<li>输出缓冲区&#x3D;Irp-&gt;UserBuffer<br>3.直接通讯方式时，控制码声明时为METHOD_IN_DIRECT，则MmGetSystemAddressForMdlSafe(Irp-&gt;MdlAddress,NormalPagePriority)返回输入缓冲区。输出同理。</li>
</ul>
<p>内存池:<br>1.分页内存池(会进行内存&lt;&#x3D;&gt;硬盘的替换)<br>2.非分页内存池(申请后一直占有直到释放)<br>3.函数声明为分页内存:#pragma alloc_text(“PAGE”,FuncName1)<br>4.声明的第一个参数为”INIT”时，函数在推出后会自动释放内存</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="cn">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/01/05/KERNEL-32-01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kkano">
      <meta itemprop="description" content="Record my life">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kkano">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/01/05/KERNEL-32-01/" class="post-title-link" itemprop="url">KERNEL-32-01</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2024-01-05 11:01:37 / Modified: 11:02:42" itemprop="dateCreated datePublished" datetime="2024-01-05T11:01:37+08:00">2024-01-05</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>驱动模型:<br>1.NT模型<br>2.WDM驱动模型<br>3.UMDF驱动模型<br>4.KMDF驱动模型</p>
<p>所有的硬件都被抽象为文件<br>windows系统通过I&#x2F;O管理器管理驱动</p>
<p>一个驱动对象可以绑定多个设备对象，一个设备对象只能绑定一个驱动对象</p>
<p>NT框架:<br>1.需要为驱动的操作注册回调函数<br>2.创建一个虚拟设备(ring0权限)<br>3.为设备创建符号链接，来让ring3程序可以使用</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="cn">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/31/RE17/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kkano">
      <meta itemprop="description" content="Record my life">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kkano">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/12/31/RE17/" class="post-title-link" itemprop="url">RE17</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2023-12-31 13:55:29 / Modified: 13:56:47" itemprop="dateCreated datePublished" datetime="2023-12-31T13:55:29+08:00">2023-12-31</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>x64异常处理<br>1.通过异常节(通常名为.pdata)储存RUNTIME_FUNCTION结构体信息<br>RUNTIME_FUNCTION:<br>DWORD BeginAddress<br>DWORD EndAddress<br>DWORD UnwindInfoAddress<br>2.通过UNWIND_INFO结构体解析后续为异常处理还是展开信息<br>3.通过IPtoStateMap来确定try的范围<br>4.第三代异常信息和x86的一样</p>
<p>第四代异常处理:<br>FuncInfo4:<br>1.需要通过解析FuncInfoHeader来确定表<br>2.通过FuncInfoHeader解析表</p>
<p>UWMap4:<br>1.数量通过ReadUnsigned函数解析</p>
<p>TryBlockMap4:<br>1.数量通过ReadUnsigned函数解析<br>2.根据数量解析TryBlockMapEntry4<br>3.tryLow,tryHigh,catchHigh通过ReadUnsigned解析</p>
<p>HandlerMap4<br>1.数量通过ReadUnsigned函数解析<br>2.通过HandlerType4解析相关信息和处理函数的地址</p>
<p>IPtoStateMap4:<br>1.数量通过ReadUnsigned函数解析<br>2.函数相对地址通过ReadUnsigned函数解析，并且作为下一个相对地址的基址<br>3.状态通过ReadUnsigned函数解析</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="cn">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/26/RE16/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kkano">
      <meta itemprop="description" content="Record my life">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kkano">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/12/26/RE16/" class="post-title-link" itemprop="url">RE16</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-12-26 21:35:37" itemprop="dateCreated datePublished" datetime="2023-12-26T21:35:37+08:00">2023-12-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-12-31 13:57:18" itemprop="dateModified" datetime="2023-12-31T13:57:18+08:00">2023-12-31</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>(非2的幂)还原方式:<br>1.除数为正数:c&#x3D;2^n&#x2F;M<br>2.除数为负数:c&#x3D;2^n&#x2F;(2^(32&#x2F;64)+M)<br>3.正数溢出:c&#x3D;2^n&#x2F;(2^(32&#x2F;64)+M)  </p>
<p>(2的幂)还原方式:<br>x&#x2F;2^n-1+1</p>
<p>有符号求余<br>x&gt;&#x3D;0时:<br>x%2^n&#x3D;((x+0)&amp;2^n-1)-0<br>x&lt;0时:<br>x%2^n&#x3D;((x+2^n-1)&amp;2^n-1)-2^n-1</p>
<p>函数传参:<br>1.参数大小不为1,2,4,8则通过引用传参</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="cn">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/22/RE15/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kkano">
      <meta itemprop="description" content="Record my life">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kkano">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/12/22/RE15/" class="post-title-link" itemprop="url">RE15</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2023-12-22 20:15:25 / Modified: 20:16:02" itemprop="dateCreated datePublished" datetime="2023-12-22T20:15:25+08:00">2023-12-22</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>64位汇编环境<br>调用约定:<br>前四个参数通过寄存器ecx,edx,r8,r9传递，其余参数压栈<br>RSP寄存器在调用函数前必须为16的倍数  </p>
<p>为了兼容变参调用，每个函数预留32字节的影子空间</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="cn">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/19/RE14/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kkano">
      <meta itemprop="description" content="Record my life">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kkano">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/12/19/RE14/" class="post-title-link" itemprop="url">RE14</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2023-12-19 19:48:22 / Modified: 19:50:12" itemprop="dateCreated datePublished" datetime="2023-12-19T19:48:22+08:00">2023-12-19</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>c语言中的异常处理  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">__try</span><br><span class="line">&#123;</span><br><span class="line">  //...</span><br><span class="line">&#125;</span><br><span class="line">__exception(FilterFun(),EXCEPTON_CONTINUE_EXECUTE/EXCEPTON_CONTINUE_SEARCH/EXCEPTON_EXECUTE_HANDLER)</span><br><span class="line">&#123;</span><br><span class="line">  //...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="cn">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/18/RE13/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kkano">
      <meta itemprop="description" content="Record my life">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kkano">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/12/18/RE13/" class="post-title-link" itemprop="url">RE13</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2023-12-18 22:43:09 / Modified: 22:47:29" itemprop="dateCreated datePublished" datetime="2023-12-18T22:43:09+08:00">2023-12-18</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>菱形继承<br>存在偏移表记录虚基类</p>
<p>异常识别</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">FuncInfo结构体:</span><br><span class="line">unsigned int      magicNumber:29</span><br><span class="line">unsigned int      bbtFlags:3</span><br><span class="line">__ehstate_t       maxState</span><br><span class="line">UnwindMapEntry*   pUnwindMap</span><br><span class="line">unsigned int      nTryBlocks(函数中try的个数)</span><br><span class="line">TryBlockMapEntry* pTryBlockMap</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">TryBlockMapEntry结构体:</span><br><span class="line">__ehstate_t   tryLow(Try处理的下限)</span><br><span class="line">__ehstate_t   tryHigh(Try处理的上限)</span><br><span class="line">__ehstate_t   catchHigh</span><br><span class="line">int           nCatches(catch的数量)</span><br><span class="line">HandlerType*  pHandlerArray</span><br><span class="line"></span><br><span class="line">HandlerType结构体:</span><br><span class="line">unsigned int     adjectives</span><br><span class="line">TypeDescriptor*  pType(RTTI指针)</span><br><span class="line">ptrdiff_t        dispCatchObj</span><br><span class="line">void*            addressOfHandler(异常处理的函数地址)</span><br><span class="line"></span><br><span class="line">TypeDescriptor结构体:</span><br><span class="line">unsigned long  hash</span><br><span class="line">void*          spare</span><br><span class="line">char           name[]</span><br><span class="line"></span><br><span class="line">UnwindMapEntry结构体:</span><br><span class="line">__ehstatr_t  toState</span><br><span class="line">void        (__cdecl * action)(void)</span><br><span class="line"></span><br><span class="line">ThrowInfo结构体:</span><br><span class="line">unsigned int         attributes</span><br><span class="line">PMFN                 pmfnUnwind</span><br><span class="line">int (__cdecl * pForwardCompat)(...)</span><br><span class="line">CatchableTypeArray*  pCatchableTypeArray</span><br><span class="line"></span><br><span class="line">CatchableTypeArray结构体:</span><br><span class="line">int             nCatchableTypes</span><br><span class="line">CatchableType*  arrayOfCatchableTypes[]</span><br><span class="line"></span><br><span class="line">CatchableType结构体:</span><br><span class="line">unsigned int      properties</span><br><span class="line">TypedDescriptor*  pType</span><br><span class="line">PMD               thisDisplacement</span><br><span class="line">int               sizeOrOffset</span><br><span class="line">PMFN              copyFunction</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="cn">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/15/RE12/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kkano">
      <meta itemprop="description" content="Record my life">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kkano">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/12/15/RE12/" class="post-title-link" itemprop="url">RE12</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2023-12-15 10:45:43 / Modified: 10:46:28" itemprop="dateCreated datePublished" datetime="2023-12-15T10:45:43+08:00">2023-12-15</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>对象作为参数<br>特征:<br>函数外构造，函数内析构</p>
<p>对象作为结果<br>特征:<br>函数内构造，函数外析构</p>
<p>虚表<br>1.对象的第一项为虚表的地址<br>2.虚表大小在编译时确定，在rdata节<br>3.虚表存放虚函数地址<br>4.虚表在构造和析构时赋值</p>
<p>单重继承识别:<br>1.填虚表前有代码<br>2.虚表被覆盖<br>3.this指针相同</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="cn">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/10/RE11/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kkano">
      <meta itemprop="description" content="Record my life">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kkano">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/12/10/RE11/" class="post-title-link" itemprop="url">RE11</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-12-10 11:22:56" itemprop="dateCreated datePublished" datetime="2023-12-10T11:22:56+08:00">2023-12-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-12-11 20:19:48" itemprop="dateModified" datetime="2023-12-11T20:19:48+08:00">2023-12-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>c++类的识别<br>thiscall调用约定识别:this指针通过ecx传参，其他参数通过压栈传参</p>
<p>构造函数的识别<br>1.返回值为this指针<br>2.在对象实例化时第一个调用<br>3.可以重载</p>
<p>析构函数的识别<br>1.thiscall<br>2.作用域最后一个被调用的函数<br>3.不可以重载</p>
<p>堆对象<br>析构函数:<br>1.有代理析构<br>2.代理析构有参数，根据参数决定释放释放对象空间</p>
<p>全局对象<br>构造函数:通过__initerm来调用代理构函数，再通过代理构造调用构造<br>析构函数:通过atexit()函数注册代理析构函数，再通过代理析构调用析构</p>
<p>对象数组<br>构造函数:通过构造迭代函数来调用，参数有数组首地址，个数，对象大小，构造函数地址，析构函数地址<br>析构函数:通过析构迭代函数来调用，参数有数组首地址，个数，对象大小，析构函数</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">kkano</p>
  <div class="site-description" itemprop="description">Record my life</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">127</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">kkano</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
